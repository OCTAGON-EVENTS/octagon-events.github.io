import{d as S,r as o,o as x,c as N,e as s,F as D}from"./index-wuuIo95V.js";const d=.5,M=20,B=S({__name:"AdRunnerView",setup(O){let g=!1,p=!1;const c=o(),b=o(),h=o(),y=o(),k=o(),_=o(),E=o();async function i(t=1){await new Promise(e=>setTimeout(e,t*1e3))}async function T(){c.value.style.animation="opacity "+d+"s "+(p?"reverse":""),c.value.style.display="block",await i(d),p&&(c.value.style.display="none"),c.value.style.animation="",p=!p}async function f(){b.value.style.animation="opacity "+d+"s "+(g?"reverse":""),await i(d),b.value.style.animation="",g=!g}async function L(t="Global"){const e="https://raw.githubusercontent.com/OCTAGON-EVENTS/Ads/main";return new Promise((r,m)=>{const n=new XMLHttpRequest;n.onreadystatechange=function(){this.readyState==4&&(this.status==200?r(e+"/"+t+"/"+this.responseText):m(new Error("Failed to load data")))},n.open("GET",e+"/"+t+"/"+t+".txt",!0),n.send()})}async function A(){let t=[];for(;;){let e="";try{e=await L()}catch{}e=e.replaceAll("\r","");let r="";const m=window.location.hash.substr(1).replaceAll("%20"," ");try{m&&(r=await L(m),r=r.replaceAll("\r",""))}catch{}const n=(e+r).trim().split(`
`),a=[];for(const l in n){const u=n[l].split("?")[0].split("/").reverse()[0].split("_")[0];if(u.toUpperCase()=="X"){a.push(n[l].trim());continue}try{new Date(u)-new Date(new Date().toISOString().split("T")[0])>0&&a.push(n[l])}catch{continue}}console.log(a),await i(5);let C=!1;a.length>25&&(C=!0);let v=1;for(;a.length!=0;){v==1&&T();const l=Math.floor(Math.random()*a.length),w=a[l],u=w.split("?")[0].split(".").reverse()[0].toLowerCase();if(["webm","mp4"].includes(u)&&(_.value.attributes.src.value=w,h.value.style.display="block",y.value.load(),await f(),await i(y.value.duration-d-.1),await f(),h.value.style.display="none",_.value.attributes.src.value="",y.value.load()),["png"].includes(u)&&(E.value.attributes.src.value=w,k.value.style.display="block",await f(),await i(M),await f(),k.value.style.display="none",E.value.attributes.src.value=" "),t.push(a[l]),a.splice(l,1),C&&v==1){v+=1,await i(2);continue}else v=1,T(),await i(5*60)}t=[]}}return A(),(t,e)=>(x(),N(D,null,[s("div",{ref_key:"background",ref:c,id:"background",style:{display:"none"}},e[0]||(e[0]=[s("div",{class:"fullscreen"},null,-1)]),512),s("div",{ref_key:"contentWrapper",ref:b,id:"content-wrapper"},[s("div",{ref_key:"videoContainer",ref:h,id:"video-container",style:{display:"none"}},[s("video",{ref_key:"videoElement",ref:y,class:"fullscreen",autoplay:"",muted:""},[s("source",{ref_key:"sourceElement",ref:_,src:"",type:"video/mp4"},null,512)],512)],512),s("div",{ref_key:"imageContainer",ref:k,id:"image-container",class:"fullscreen",style:{display:"none"}},[s("img",{ref_key:"imageElement",ref:E,src:""},null,512)],512)],512)],64))}});export{B as default};
